
mainScreen:
  on_appear:
    show()

  show():
    tree.getItems()
      if Branch:
        create <Branch>
      if Leaf:
        create <Leaf>

  Movement:        
    press_on <Branch>      
      tree.upTo(numItem)
      show(tree.curItem)
    press_on <Leaf>      
      tree.upTo(numItem)
      <goto leafScreen>
    press_on <Back>
      if not tree.reachRoot()
        tree.down()
        show()
      else
        <pass> || <fold__the_prog>

  Edit:
    press_on <Add_Branch>
      tree.addItem(name)
    press_on <Add_Leaf>
      tree.addItem(name,text='')
      # search of file name will be done at creating Leaf, but not at writing
    press_on <Del_this_item>
      tree.delItem(numItem)

leafScreen
  on_appear:
    show()
  show():
    tree.curItem.read()
  press_on <Back>:
    tree.curItem.write()
    tree.down()
    <goto mainScreen>
